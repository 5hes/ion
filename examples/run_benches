#  /usr/bin/env ion


# function for timing each individual script
fn check_timing script
	let utime:float = 0.0
	# loop 10 times
	for _ in 0..10
		# set to actual number part of time output, has "s" as end
		let utime_arrval = @(time $script >/dev/null)[1]
		# make it a string var
		let utime_str:str = $utime_arrval
		# remove s at end and add to total
		let utime:float += $utime_str[..11]
	end
	let utime /= 10
	echo $script $utime[..11]
end

#cargo build --release

for file in ./*.ion
	check_timing $file >> temp.out
end

cat temp.out | column -t > bench_results.txt

cat bench_results.txt

rm temp.out
